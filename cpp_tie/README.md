Trying to implement cpp tie function. Playing with tempaltes.
